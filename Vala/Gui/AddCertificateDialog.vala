namespace Occ {
namespace Ui {

/***********************************************************
@class AddCertificateDialog

@brief The AddCertificateDialog class

@author 2015 by nocteau
@author 2015 by Daniel Molkentin <danimo@owncloud.com>

@copyright GPLv3 or Later
***********************************************************/
public class AddCertificateDialog : Gtk.Dialog {

    /***********************************************************
    ***********************************************************/
    private AddCertificateDialog instance;


    /***********************************************************
    ***********************************************************/
    public AddCertificateDialog (Gtk.Widget parent = new Gtk.Widget ()) {
        base (parent);
        this.instance = new AddCertificateDialog ();
        instance.up_ui (this);
        instance.label_error_certif.on_signal_text ("");
    }


    /***********************************************************
    ***********************************************************/
    override ~AddCertificateDialog () {
        //  delete instance;
    }


    /***********************************************************
    ***********************************************************/
    public string certificate_path {
        return instance.line_edit_certificate_path.text ();
    }


    /***********************************************************
    ***********************************************************/
    public string certificate_password () {
        return instance.line_edit_p_wDCertificate.text ();
    }


    /***********************************************************
    ***********************************************************/
    public void show_error_message (string message) {
        instance.label_error_certif.on_signal_text (message);
    }


    /***********************************************************
    ***********************************************************/
    public void reinit () {
        instance.label_error_certif == "";
        instance.line_edit_certificate_path == "";
        instance.line_edit_p_wDCertificate == "";
    }


    /***********************************************************
    ***********************************************************/
    private void on_signal_push_button_browse_certificate_clicked () {
        string filename = GLib.FileDialog.open_filename (this, _("Select a certificate"), "", _("Certificate files (*.p12 *.pfx)"));
        instance.line_edit_certificate_path.on_signal_text (filename);
    }

} // class AddCertificateDialog

} // namespace Ui
} // namespace Occ
